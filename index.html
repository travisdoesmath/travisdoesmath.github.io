<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta property='og:image' content='http://travisrtaylor.com/preview.png'>
    <meta property='og:image:width' content='1200'>
    <meta property='og:image:height' content='630'>
    <meta property='og:type' content='website'>
    <meta property='og:url' content='http://travisrtaylor.com/'>
    <meta property='og:title' content='Travis R. Taylor'>
    <meta property='og:description' content='The official vanity page of Travis R. Taylor'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Travis R. Taylor</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script src="js/exhibits.js"></script>
    </head>
    <body>
        <div class='column'>
            <h1>Travis<span class='red'>R</span>Taylor</h1>
            <p>Hi, I'm Travis. I like doing a lot of things. This is where I keep the ones I like best.</p>
            <p>Email me at <a href="mailto:travis@travisrtaylor.com">travis@travisrtaylor.com</a></p>

            <div id="app">
                <exhibit-grid></exhibit-grid>
            </div>            
        </div>

        <!-- Templates -->
        <script type="text/x-template" id="exhibit-grid-template">
            <div>
                <exhibit v-for="exhibit in exhibits" :id="exhibit.id" :link="exhibit.link" :type="exhibit.type" :src="exhibit.src" :title="exhibit.title" :description="exhibit.description">
            </div>
        </script>
        <script type="text/x-template" id="exhibit-template">
            <article class="exhibit" :id="id">
                <h2>{{ title }}</h2>
                <a :href="link" target="_blank">
                    <div class="exhibit-media-container">
                        <img v-if="type === 'img'" @mouseenter="grow" @mouseout="shrink" :src="src" class="exhibit-media">
                        <video v-else-if="type === 'video/webm'" @mouseenter="play" @mouseout="pause" :src="src" class="hover-play exhibit-media" muted preload height=100% loop playsinline :type="type"></video>
                        <div v-else-if="type === 'd3'" class="d3-target exhibit-media"></div>
                    </div>
                </a>
                <section class='exhibit-description'>
                    <p v-html='description'></p>
                </section>
            <article>
        </script>

        <!-- Vue components and app -->
        <script>
            Vue.component('exhibit-grid', {
                template: '#exhibit-grid-template',
                data() {
                    return {
                        exhibits: exhibits
                    }
                }
            })


            Vue.component('exhibit', {
                template: '#exhibit-template',
                props: ['id','link','src','alt','type','title','description'],
                methods: {
                    grow: function(e) {
                        d3.select(e.target).transition().ease(d3.easeCubic).style('transform','scale(1.2)')
                    },
                    shrink: function(e) {
                        d3.select(e.target).transition().ease(d3.easeCubic).style('transform','scale(1)')
                    },
                    play: function(e) {
                        e.target.play();
                    },
                    pause: function(e) {
                        e.target.pause();
                    }
                }

            })


            var app = new Vue({
                el: '#app'
            })

        </script>
        <!-- <script src="js/double_pendulum.js"></script> -->
        <!-- <script src="js/pendulum-exhibit.js"></script> -->
        <!-- <script src="modules/life.js"></script> -->
        <!-- <script src="js/snake.js"></script> -->
        <script type="module">
            import { SnakeGame } from './modules/snake.js';
            import { LifeGame } from './modules/life.js';
            import { PendulumPlayer } from './modules/pendulum.js';
            let snakeGame = new SnakeGame(document.getElementById('snake'));
            let lifeGame = new LifeGame(document.getElementById('life'));
            let pendulumPlayer = new PendulumPlayer(document.getElementById('pendulum'))
        </script>
        <script>

        </script>
    </body>
</html>
